"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[671],{6671:function(n,e,r){r.r(e),r.d(e,{default:function(){return an}});var a,t,o,i,s,d,l,c,p,x=r(9439),u=r(9870),m=r(2791),h=r(168),g=r(6444),b=g.ZP.div(a||(a=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n  gap: 15px;\n  font-family: monospace;\n"]))),f=r(5984),j=r(5218),v=function(n,e){return e.find((function(e){return e.name===n}))},y=g.ZP.form(t||(t=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 40px;\n  padding: 25px;\n  font-size: 20px;\n  background-color: white;\n  border-radius: 15px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  input {\n    margin-bottom: 10px;\n  }\n  button {\n    font-family: monospace;\n    margin-top: 16px;\n    padding: 6px;\n    cursor: pointer;\n    border: 0;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);\n\n    border-radius: 10px;\n    transition: 500ms;\n\n    &:hover {\n      background-color: #a9a9a9;\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\n        0 10px 10px rgba(0, 0, 0, 0.22);\n\n      transform: scale(1.1);\n    }\n  }\n"]))),Z=r(184),w=function(){var n=(0,f.x0)(),e=(0,u.X9)(),r=(0,x.Z)(e,1)[0],a=(0,u.wY)().data;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(y,{onSubmit:function(n){n.preventDefault();var e=n.target,t=e.elements.name.value,o=e.elements.number.value;v(t,a)?j.Am.error("".concat(t," already exists in your phone book")):r({name:t,number:o}),e.reset()},children:[(0,Z.jsx)("label",{htmlFor:n,children:(0,Z.jsx)("span",{children:"Name"})}),(0,Z.jsx)("input",{id:n,type:"text",name:"name",pattern:"^[a-zA-Za-\u044f\u0410-\u042f]+(([' -][a-zA-Za-\u044f\u0410-\u042f ])?[a-zA-Za-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,Z.jsx)("label",{htmlFor:n,children:(0,Z.jsx)("span",{children:"Number"})}),(0,Z.jsx)("input",{id:n,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,Z.jsx)("button",{children:"Add contact"})]})})},k=r(828),C=r(9983),P=g.ZP.div(o||(o=(0,h.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  gap: 77px;\n\n  ul {\n    padding: 0;\n  }\n  h2 {\n    font-size: 32px;\n  }\n  label {\n    margin-right: 10px;\n  }\n  li {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: 12px;\n    padding: 8px;\n    padding-left: 16px;\n\n    background-color: white;\n    border-radius: 15px;\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n  span {\n    margin-right: 8px;\n\n    &:first-child {\n      font-size: 16px;\n      font-weight: bold;\n    }\n  }\n\n  button {\n    border: none;\n    background-color: #8cada6;\n    cursor: pointer;\n    transition: all 500ms ease 0s;\n\n    &:hover {\n      transform: scale(1.1);\n    }\n  }\n"]))),F=g.ZP.button(i||(i=(0,h.Z)(["\n  margin-left: auto;\n  padding: 6px 12px;\n  border-radius: 15px;\n  &:hover {\n    background-color: rgb(255, 0, 51);\n  }\n"]))),z=r(3853),N=g.ZP.button(s||(s=(0,h.Z)(["\n  display: flex;\n  padding: 8px;\n  margin-left: 8px;\n  border-radius: 50%;\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  &:hover {\n    background-color: gray;\n    animation-name: spin;\n    animation-duration: 4000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n"]))),A=g.ZP.form(d||(d=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  input {\n    margin-bottom: 14px;\n  }\n  button {\n    font-family: monospace;\n    margin-top: 16px;\n    padding: 6px;\n    cursor: pointer;\n    border: 0;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);\n\n    border-radius: 10px;\n    transition: 500ms;\n\n    &:hover {\n      background-color: #a9a9a9;\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\n        0 10px 10px rgba(0, 0, 0, 0.22);\n\n      transform: scale(1.1);\n    }\n  }\n"]))),B=r(4164),q=function(n){var e=n.children,r=document.getElementById("modal-root"),a=document.createElement("div");return(0,m.useEffect)((function(){return r.appendChild(a),function(){r.removeChild(a)}})),(0,B.createPortal)(e,a)},M={ModalWrapper:g.ZP.div(l||(l=(0,h.Z)(["\n  font-family: monospace;\n  position: fixed;\n  z-index: 1;\n  padding-top: 100px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgba(0, 0, 0, 0.4);\n"]))),ModalBody:g.ZP.div(c||(c=(0,h.Z)(["\n  background-color: #fefefe;\n  margin: auto;\n  padding: 20px;\n  border: transparent;\n  width: 25%;\n  border-radius: 15px;\n\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n"]))),CloseButton:g.ZP.span(p||(p=(0,h.Z)(["\n  float: right;\n  font-size: 28px;\n  transform: scale(1);\n  transition: transform 1s;\n\n  &:hover,\n  &:focus {\n    transform: scale(1.1);\n    color: #000;\n    cursor: pointer;\n  }\n"])))},L=r(6053),E=function(n){var e=n.children,r=n.toggle,a=n.open;return(0,Z.jsx)(q,{children:a&&(0,Z.jsx)(M.ModalWrapper,{onClick:r,children:(0,Z.jsxs)(M.ModalBody,{onClick:function(n){return n.stopPropagation()},children:[(0,Z.jsx)(M.CloseButton,{onClick:r,children:(0,Z.jsx)(L.v8y,{})}),e]})})})};var S,Y,_,D,X,I,J=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,m.useState)(n),r=(0,x.Z)(e,2),a=r[0],t=r[1];return[a,(0,m.useCallback)((function(){return t((function(n){return!n}))}),[])]},V=function(n){var e=n.id,r=(0,u.Q)(),a=(0,x.Z)(r,1)[0],t=(0,u.wY)().data,o=J(),i=(0,x.Z)(o,2),s=i[0],d=i[1];return(0,Z.jsxs)(N,{onClick:function(){return d()},children:[(0,Z.jsx)(E,{open:s,toggle:d,children:(0,Z.jsxs)(A,{onSubmit:function(n){n.preventDefault();var r=n.target.elements.changeName.value,o=n.target.elements.changeNumber.value;v(r,t)?j.Am.error("".concat(r," already exists in your phone book")):a({id:e,name:r,number:o}),d(!1),n.target.reset()},children:[(0,Z.jsx)("label",{htmlFor:"changeName",children:(0,Z.jsx)("span",{children:"Name"})}),(0,Z.jsx)("input",{id:"changeName",type:"text",name:"name",pattern:"^[a-zA-Za-\u044f\u0410-\u042f]+(([' -][a-zA-Za-\u044f\u0410-\u042f ])?[a-zA-Za-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,Z.jsx)("label",{htmlFor:"changeNumber",children:(0,Z.jsx)("span",{children:"Number"})}),(0,Z.jsx)("input",{id:"changeNumber",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,Z.jsx)("button",{children:"save changes"})]})}),(0,Z.jsx)(z.nbt,{})]})},W=function(n){var e=n.filteredContacts,r=(0,u.wY)(),a=r.data,t=r.isLoading,o=r.isFetching,i=(0,u.Nt)(),s=(0,x.Z)(i,1)[0],d=function(n){return n.map((function(n){var e=n.name,r=n.id,a=n.number;return(0,Z.jsxs)("li",{id:r,children:[(0,Z.jsxs)("span",{children:[e,":"]}),(0,Z.jsx)("span",{children:a}),(0,Z.jsx)(F,{disabled:o,onClick:function(){return s(r)},children:"Delete"}),(0,Z.jsx)(V,{id:r})]},r)}))};return(0,Z.jsxs)(Z.Fragment,{children:[o&&(0,Z.jsx)(C.Pd.Provider,{value:{className:"spinner"},children:(0,Z.jsx)(k.crq,{})}),!t&&a&&(0,Z.jsx)("ul",{children:d(e||a)})]})},$=function(n){var e=n.handleFilterValue,r=(0,f.x0)();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("label",{htmlFor:r,children:"Find contacts by name"}),(0,Z.jsx)("input",{type:"text",id:r,name:"filter",title:"Find contacts by name",onChange:function(n){return e(n)}})]})},Q=r(8617),U=r(5048),G=r(7012),H=g.ZP.button(S||(S=(0,h.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: transparent;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);\n  cursor: pointer;\n  transition: all 500ms ease 0s;\n  :hover {\n    background-color: rgb(169, 169, 169);\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    transform: scale(1.1);\n  }\n"]))),K=function(){var n=(0,u.g0)(),e=(0,x.Z)(n,1)[0],r=(0,U.I0)();return(0,Z.jsx)(H,{onClick:function(){e().unwrap().then((function(){r((0,G.U)(null))})).catch((function(n){return console.log("logout error,".concat(n))}))},children:(0,Z.jsx)(z.xqh,{})})},O=g.ZP.div(Y||(Y=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  background-color: white;\n  border-radius: 15px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  padding: 8px;\n"]))),R=g.ZP.div(_||(_=(0,h.Z)(["\n  position: relative;\n  display: inline-block;\n  margin: 0 auto;\n  span {\n    visibility: hidden;\n    width: 100%;\n    background-color: gray;\n    color: black;\n    text-align: center;\n    border-radius: 4px;\n    padding: 5px;\n    position: absolute;\n    z-index: 1;\n    /* bottom: 125%; */\n    left: 185%;\n    transform: translateX(-50%);\n    opacity: 0;\n    transition: opacity 0.3s;\n  }\n  &:hover span {\n    visibility: visible;\n    opacity: 0.7;\n  }\n"]))),T=g.ZP.div(D||(D=(0,h.Z)(["\n  svg {\n    width: 40px;\n    height: 40px;\n  }\n"]))),nn=g.ZP.div(X||(X=(0,h.Z)(["\n  margin: 0 auto;\n  width: 60%;\n  height: 2px;\n  background-color: black;\n"]))),en=function(){var n=(0,u.XC)(),e=n.data;return!n.isLoading&&(0,Z.jsxs)(O,{children:[(0,Z.jsxs)(T,{children:[(0,Z.jsx)(Q.fbd,{}),(0,Z.jsx)("p",{children:e.name}),(0,Z.jsx)(nn,{})]}),(0,Z.jsxs)("p",{children:["Email: ",e.email]}),(0,Z.jsxs)(R,{children:[(0,Z.jsx)("span",{children:"Log out"}),(0,Z.jsx)(K,{})]})]})},rn=g.ZP.div(I||(I=(0,h.Z)(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n"]))),an=function(){var n=(0,u.wY)().data,e=(0,m.useState)(null),r=(0,x.Z)(e,2),a=r[0],t=r[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(b,{children:[(0,Z.jsxs)(rn,{children:[(0,Z.jsx)(en,{}),(0,Z.jsx)(w,{})]}),(0,Z.jsxs)(P,{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)($,{handleFilterValue:function(e){var r=e.target.value;if(""!==r){var a=n.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())}));t(a)}else t(null)}})]}),(0,Z.jsx)("div",{children:(0,Z.jsx)(W,{filteredContacts:a})})]})]})})}}}]);
//# sourceMappingURL=671.92407bac.chunk.js.map